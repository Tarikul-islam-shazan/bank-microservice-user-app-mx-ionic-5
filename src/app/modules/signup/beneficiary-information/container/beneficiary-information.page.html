<ion-content class="safe-area-content">
  <div class="content-wrapper">
    <div class="step-counter">
      <step-counter [step]="'Step 3 of 3'" [stepNo]="3"></step-counter>
    </div>
    <div class="header-title">Beneficiary Information</div>

    <div class="content-block">
      <form [formGroup]="beneficiaryForm" novalidate>
        <ion-list lines="none" class="input-list">
          <div class="clearfix">
            <ion-input
              [ngClass]="
              beneficiaryForm.controls.firstName.invalid && skipErrorFields.firstName ? 'error-input' : 'white-input'
            "
              class="white-input ion-text-capitalize"
              id="first-name"
              type="text"
              formControlName="firstName"
              placeholder="{{ 'signup-module.signup-personal.personal-form.first-name' | translate }}"
              [appMaskInput]="onlyOneWordInput"
            ></ion-input>
            <div
              *ngIf="beneficiaryForm.controls.firstName.dirty && beneficiaryForm.controls.firstName.invalid"
              class="error-msg"
              position="fixed"
            >
              {{ 'signup-module.signup-personal.personal-form.errors.valid-first-name-text' | translate }}
            </div>
          </div>
          <div class="clearfix">
            <ion-input
              [ngClass]="
              beneficiaryForm.controls.secondName.invalid && skipErrorFields.secondName ? 'error-input' : 'white-input'
            "
              class="white-input ion-text-capitalize"
              id="second-name"
              type="text"
              formControlName="secondName"
              placeholder="Second Name"
              [appMaskInput]="onlyOneWordInput"
            ></ion-input>
            <div
              *ngIf="beneficiaryForm.controls.secondName.dirty && beneficiaryForm.controls.secondName.invalid"
              class="error-msg"
              position="fixed"
            >
              {{ 'signup-module.signup-personal.personal-form.errors.valid-first-name-text' | translate }}
            </div>
          </div>
          <div class="clearfix">
            <ion-input
              [ngClass]="
              beneficiaryForm.controls.parentalName.invalid && skipErrorFields.parentalName ? 'error-input' : 'white-input'
            "
              class="white-input ion-text-capitalize"
              id="parental-name"
              type="text"
              formControlName="parentalName"
              placeholder="Parental Name"
              [appMaskInput]="onlyOneWordInput"
            ></ion-input>
            <div
              *ngIf="beneficiaryForm.controls.parentalName.dirty && beneficiaryForm.controls.parentalName.invalid"
              class="error-msg"
              position="fixed"
            >
              {{ 'signup-module.signup-personal.personal-form.errors.valid-first-name-text' | translate }}
            </div>
          </div>
          <div class="clearfix">
            <ion-input
              [ngClass]="
              beneficiaryForm.controls.maternalLastName.invalid && skipErrorFields.maternalLastName ? 'error-input' : 'white-input'
            "
              class="white-input ion-text-capitalize"
              id="maternal-name"
              type="text"
              formControlName="maternalLastName"
              placeholder="Maternal Last Name"
              [appMaskInput]="onlyOneWordInput"
            ></ion-input>
            <div
              *ngIf="beneficiaryForm.controls.maternalLastName.dirty && beneficiaryForm.controls.maternalLastName.invalid"
              class="error-msg"
              position="fixed"
            >
              {{ 'signup-module.signup-personal.personal-form.errors.valid-first-name-text' | translate }}
            </div>
          </div>
          <div class="clearfix">
            <div class="datetime-input">
              <ion-item lines="none">
                <ion-datetime
                  id="date-of-birth"
                  displayFormat="{{ 'signup-module.signup-personal.personal-form.date-of-birth-display-format' | translate }}"
                  [max]="facade.maxDate"
                  placeholder="{{'signup-module.signup-personal.personal-form.date-of-birth' | translate }}"
                  formControlName="dateOfBirth"
                ></ion-datetime>
                <ion-icon name="chevron-down" slot="end"></ion-icon>
              </ion-item>
            </div>
            <div *ngIf="isDateOfBirthInvalid()" class="error-msg" position="fixed">
              {{ 'signup-module.signup-personal.personal-form.errors.valid-date-of-birth-text' | translate }}
            </div>
          </div>
          <div class="clearfix ">
            <div class="dropdown-input" (click)="openOptionsModal('relationship', relationship)">
              <ion-input
                [ngClass]="beneficiaryForm.controls.relationship.invalid && skipErrorFields.relationship ? 'error-input' : 'white-input'"
                readonly
                class="white-input"
                id="relationship"
                type="text"
                formControlName="relationship"
                placeholder="{{ 'signup-module.signup-personal.personal-form.prefix' | translate }}"
              ></ion-input>
              <ion-icon name="chevron-down"></ion-icon>
            </div>
          </div>
        </ion-list>
      </form>
    </div>
  </div>
</ion-content>

<ion-footer>
  <ion-toolbar>
    <ion-button
      class="white-button"
      expand="block"
      (click)="next()"
      [disabled]="beneficiaryForm.invalid"
      [routerLink]="['/signup/account-selection']"
    >
      {{ 'signup-module.signup-address-page.button-text' | translate }}
    </ion-button>
  </ion-toolbar>
</ion-footer>
